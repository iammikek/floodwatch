Note: Using configuration file /Users/mike/Projects/flood-watch/phpstan.neon.
 ------ -----------------------------------------------------------------------
  Line   Contracts/Tooling/ToolHandler.php
 ------ -----------------------------------------------------------------------
  17     Method App\Contracts\Tooling\ToolHandler::definition() return type
         has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Contracts/Tooling/ToolHandler.php:17
  21     Method App\Contracts\Tooling\ToolHandler::presentForLlm() return type
         has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Contracts/Tooling/ToolHandler.php:21
 ------ -----------------------------------------------------------------------
 ------ -----------------------------------------------------------------------
  Line   Flood/DTOs/FloodWarning.php
 ------ -----------------------------------------------------------------------
  12     Method App\Flood\DTOs\FloodWarning::__construct() has parameter
         $polygon with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Flood/DTOs/FloodWarning.php:12
  27     Method App\Flood\DTOs\FloodWarning::fromArray() has parameter $data
         with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Flood/DTOs/FloodWarning.php:27
  47     Method App\Flood\DTOs\FloodWarning::toArray() return type has no
         value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Flood/DTOs/FloodWarning.php:47
 ------ -----------------------------------------------------------------------
 ------ ----------------------------------------------------------------------
  Line   Flood/Services/EnvironmentAgencyFloodService.php
 ------ ----------------------------------------------------------------------
  76     Call to static method error() on an unknown class
         App\Flood\Services\Log.
         ðŸªª  class.notFound
         ðŸ’¡  Learn more at https://phpstan.org/user-guide/discovering-symbols
         at app/Flood/Services/EnvironmentAgencyFloodService.php:76
  132    Call to static method error() on an unknown class
         App\Flood\Services\Log.
         ðŸªª  class.notFound
         ðŸ’¡  Learn more at https://phpstan.org/user-guide/discovering-symbols
         at app/Flood/Services/EnvironmentAgencyFloodService.php:132
 ------ ----------------------------------------------------------------------
 ------ -----------------------------------------------------------------------
  Line   Roads/DTOs/RoadIncident.php
 ------ -----------------------------------------------------------------------
  23     Method App\Roads\DTOs\RoadIncident::fromArray() has parameter $data
         with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Roads/DTOs/RoadIncident.php:23
  47     Method App\Roads\DTOs\RoadIncident::toArray() return type has no
         value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Roads/DTOs/RoadIncident.php:47
 ------ -----------------------------------------------------------------------
 ------ -----------------------------------------------------------------------
  Line   Roads/Services/NationalHighwaysService.php
 ------ -----------------------------------------------------------------------
  190    Call to function is_string() with string will always evaluate to
         true.
         ðŸªª  function.alreadyNarrowedType
         at app/Roads/Services/NationalHighwaysService.php:190
  192    Call to function is_string() with string will always evaluate to
         true.
         ðŸªª  function.alreadyNarrowedType
         at app/Roads/Services/NationalHighwaysService.php:192
  193    Call to function is_string() with string will always evaluate to
         true.
         ðŸªª  function.alreadyNarrowedType
         at app/Roads/Services/NationalHighwaysService.php:193
  206    Call to function is_string() with string will always evaluate to
         true.
         ðŸªª  function.alreadyNarrowedType
         at app/Roads/Services/NationalHighwaysService.php:206
  370    Call to function is_array() with array<string, mixed> will always eva
         luate to true.
         ðŸªª  function.alreadyNarrowedType
         ðŸ’¡  Because the type is coming from a PHPDoc, you can turn off this
         check by setting treatPhpDocTypesAsCertain: false in your phpstan.neo
         n.
         at app/Roads/Services/NationalHighwaysService.php:370
 ------ -----------------------------------------------------------------------
 ------ -----------------------------------------------------------------------
  Line   Roads/Services/RoadIncidentOrchestrator.php
 ------ -----------------------------------------------------------------------
  40     Method
         App\Roads\Services\RoadIncidentOrchestrator::mergedHighwaysIncidents(
         ) return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Roads/Services/RoadIncidentOrchestrator.php:40
  55     Method
         App\Roads\Services\RoadIncidentOrchestrator::filterIncidentsByRegion(
         ) has parameter $incidents with no value type specified in iterable
         type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Roads/Services/RoadIncidentOrchestrator.php:55
  55     Method
         App\Roads\Services\RoadIncidentOrchestrator::filterIncidentsByRegion(
         ) return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Roads/Services/RoadIncidentOrchestrator.php:55
  76     Method
         App\Roads\Services\RoadIncidentOrchestrator::filterIncidentsByProximi
         ty() has parameter $incidents with no value type specified in
         iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Roads/Services/RoadIncidentOrchestrator.php:76
  76     Method
         App\Roads\Services\RoadIncidentOrchestrator::filterIncidentsByProximi
         ty() return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Roads/Services/RoadIncidentOrchestrator.php:76
  98     Method
         App\Roads\Services\RoadIncidentOrchestrator::filterMotorwaysFromDispl
         ay() has parameter $incidents with no value type specified in
         iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Roads/Services/RoadIncidentOrchestrator.php:98
  98     Method
         App\Roads\Services\RoadIncidentOrchestrator::filterMotorwaysFromDispl
         ay() return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Roads/Services/RoadIncidentOrchestrator.php:98
  118    Method
         App\Roads\Services\RoadIncidentOrchestrator::sortIncidentsByPriority(
         ) has parameter $incidents with no value type specified in iterable
         type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Roads/Services/RoadIncidentOrchestrator.php:118
  118    Method
         App\Roads\Services\RoadIncidentOrchestrator::sortIncidentsByPriority(
         ) return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Roads/Services/RoadIncidentOrchestrator.php:118
  135    Parameter #1 $array (list) of array_values is already a list, call
         has no effect.
         ðŸªª  arrayValues.list
         at app/Roads/Services/RoadIncidentOrchestrator.php:135
  150    Method
         App\Roads\Services\RoadIncidentOrchestrator::getAllowedRoadsForRegion
         () return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Roads/Services/RoadIncidentOrchestrator.php:150
 ------ -----------------------------------------------------------------------
 ------ -----------------------------------------------------------------------
  Line   Services/FloodWatchPromptBuilder.php
 ------ -----------------------------------------------------------------------
  21     Property App\Services\FloodWatchPromptBuilder::$cachedToolDefinitions
         type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchPromptBuilder.php:21
  62     Method App\Services\FloodWatchPromptBuilder::getToolDefinitions()
         return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchPromptBuilder.php:62
 ------ -----------------------------------------------------------------------
 ------ -----------------------------------------------------------------------
  Line   Services/FloodWatchService.php
 ------ -----------------------------------------------------------------------
  57     Method App\Services\FloodWatchService::chat() return type has no
         value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:57
  57     Method App\Services\FloodWatchService::chat() return type has no
         value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:57
  57     Method App\Services\FloodWatchService::chat() return type has no
         value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:57
  57     Method App\Services\FloodWatchService::chat() return type has no
         value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:57
  57     Method App\Services\FloodWatchService::chat() return type has no
         value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:57
  228    Method App\Services\FloodWatchService::chat() should return
         array{response: string, floods: array, incidents: array, forecast:
         array, weather: array, riverLevels: array, lastChecked: string,
         getError?: bool, ...} but returns array{response: string, floods:
         array, incidents: array, forecast: array, weather: array,
         lastChecked: string}.
         ðŸªª  return.type
         ðŸ’¡  Array does not have offset 'riverLevels'.
         at app/Services/FloodWatchService.php:228
  241    Method App\Services\FloodWatchService::chat() should return
         array{response: string, floods: array, incidents: array, forecast:
         array, weather: array, riverLevels: array, lastChecked: string,
         getError?: bool, ...} but returns array{response: string, floods:
         array, incidents: array, forecast: array, weather: array,
         lastChecked: string}.
         ðŸªª  return.type
         ðŸ’¡  Array does not have offset 'riverLevels'.
         at app/Services/FloodWatchService.php:241
  384    Method App\Services\FloodWatchService::storeAndReturn() has parameter
         $result with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:384
  384    Method App\Services\FloodWatchService::storeAndReturn() has parameter
         $result with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:384
  384    Method App\Services\FloodWatchService::storeAndReturn() has parameter
         $result with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:384
  384    Method App\Services\FloodWatchService::storeAndReturn() has parameter
         $result with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:384
  384    Method App\Services\FloodWatchService::storeAndReturn() return type
         has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:384
  384    Method App\Services\FloodWatchService::storeAndReturn() return type
         has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:384
  384    Method App\Services\FloodWatchService::storeAndReturn() return type
         has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:384
  384    Method App\Services\FloodWatchService::storeAndReturn() return type
         has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:384
  406    Method App\Services\FloodWatchService::cacheGet() return type has no
         value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:406
  415    Method App\Services\FloodWatchService::cachePut() has parameter
         $value with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:415
  428    Method App\Services\FloodWatchService::buildMessages() return type
         has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:428
  451    Method App\Services\FloodWatchService::executeTool() has parameter
         $context with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:451
  451    Method App\Services\FloodWatchService::executeTool() has parameter
         $context with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:451
  451    Method App\Services\FloodWatchService::executeTool() has parameter
         $context with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:451
  451    Method App\Services\FloodWatchService::executeTool() return type has
         no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:451
  463    Expression on left side of ?? is not nullable.
         ðŸªª  nullCoalesce.expr
         at app/Services/FloodWatchService.php:463
  463    Method App\Support\Tooling\ToolResult::error() invoked with 0
         parameters, 1 required.
         ðŸªª  arguments.count
         at app/Services/FloodWatchService.php:463
  469    Method App\Services\FloodWatchService::prepareToolResultForLlm() has
         parameter $result with no value type specified in iterable type
         array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:469
  469    Method App\Services\FloodWatchService::prepareToolResultForLlm()
         return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:469
  502    Method App\Services\FloodWatchService::trimMessagesToTokenBudget()
         has parameter $messages with no value type specified in iterable type
         array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:502
  502    Method App\Services\FloodWatchService::trimMessagesToTokenBudget()
         return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:502
  559    Method App\Services\FloodWatchService::truncateToolContentsToBudget()
         has parameter $messages with no value type specified in iterable type
         array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:559
  559    Method App\Services\FloodWatchService::truncateToolContentsToBudget()
         return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/FloodWatchService.php:559
  574    Offset 'role' on array{role: string, content?: string|null,
         tool_calls?: array, tool_call_id?: string} on left side of ?? always
         exists and is not nullable.
         ðŸªª  nullCoalesce.offset
         at app/Services/FloodWatchService.php:574
  595    Method App\Services\FloodWatchService::extractBaseRoads() is unused.
         ðŸªª  method.unused
         at app/Services/FloodWatchService.php:595
  624    Using nullsafe property access "?->promptTokens" on left side of ??
         is unnecessary. Use -> instead.
         ðŸªª  nullsafe.neverNull
         at app/Services/FloodWatchService.php:624
  625    Using nullsafe property access "?->completionTokens" on left side of
         ?? is unnecessary. Use -> instead.
         ðŸªª  nullsafe.neverNull
         at app/Services/FloodWatchService.php:625
 ------ -----------------------------------------------------------------------
 ------ -----------------------------------------------------------------------
  Line   Services/FloodWatchTrendService.php
 ------ -----------------------------------------------------------------------
  86     Parameter #3 $end of method Redis::zRemRangeByScore() expects string,
         float given.
         ðŸªª  argument.type
         at app/Services/FloodWatchTrendService.php:86
 ------ -----------------------------------------------------------------------
 ------ -----------------------------------------------------------------------
  Line   Services/LocationResolver.php
 ------ -----------------------------------------------------------------------
  152    Method App\Services\LocationResolver::isInSouthWest() has parameter
         $address with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/LocationResolver.php:152
  166    Method App\Services\LocationResolver::addressIndicatesSouthWest() has
         parameter $address with no value type specified in iterable type
         array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/LocationResolver.php:166
  259    Method App\Services\LocationResolver::getRegionFromAddress() has
         parameter $address with no value type specified in iterable type
         array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/LocationResolver.php:259
 ------ -----------------------------------------------------------------------
 ------ -----------------------------------------------------------------------
  Line   Services/OpenAiUsageService.php
 ------ -----------------------------------------------------------------------
  51     Method App\Services\OpenAiUsageService::fetchUsage() return type has
         no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/OpenAiUsageService.php:51
  93     Using nullsafe method call on non-nullable type
         Illuminate\Http\Client\Response. Use -> instead.
         ðŸªª  nullsafe.neverNull
         at app/Services/OpenAiUsageService.php:93
  118    Method App\Services\OpenAiUsageService::fetchCompletionsUsage()
         return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/OpenAiUsageService.php:118
  159    Method App\Services\OpenAiUsageService::buildChartDaily() has
         parameter $buckets with no value type specified in iterable type
         array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/OpenAiUsageService.php:159
  179    Offset 'start_time' on array{start_time: int, end_time: int,
         results?: array} on left side of ?? always exists and is not
         nullable.
         ðŸªª  nullCoalesce.offset
         at app/Services/OpenAiUsageService.php:179
  195    Method App\Services\OpenAiUsageService::sumRequests() has parameter
         $buckets with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/OpenAiUsageService.php:195
  212    Method App\Services\OpenAiUsageService::sumTokens() has parameter
         $buckets with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/OpenAiUsageService.php:212
  232    Method App\Services\OpenAiUsageService::estimateCost() has parameter
         $buckets with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/OpenAiUsageService.php:232
  232    Method App\Services\OpenAiUsageService::estimateCost() never returns
         null so it can be removed from the return type.
         ðŸªª  return.unusedType
         at app/Services/OpenAiUsageService.php:232
 ------ -----------------------------------------------------------------------
 ------ --------------------------------------------------------------------
  Line   Services/PostcodeValidator.php
 ------ --------------------------------------------------------------------
  170    Method App\Services\PostcodeValidator::extractOutcode() is unused.
         ðŸªª  method.unused
         at app/Services/PostcodeValidator.php:170
  182    Method App\Services\PostcodeValidator::outcodePrefix() is unused.
         ðŸªª  method.unused
         at app/Services/PostcodeValidator.php:182
 ------ --------------------------------------------------------------------
 ------ -----------------------------------------------------------------------
  Line   Services/RiskCorrelationService.php
 ------ -----------------------------------------------------------------------
  95     Offset 'flood_pattern' on array{river_pattern: string, trigger_level:
         string, warning: string} in isset() does not exist.
         ðŸªª  isset.offset
         at app/Services/RiskCorrelationService.php:95
  98     Offset 'river_pattern' on array{river_pattern: string, trigger_level:
         string, warning: string} on left side of ?? always exists and is not
         nullable.
         ðŸªª  nullCoalesce.offset
         at app/Services/RiskCorrelationService.php:98
  99     Offset 'trigger_level' on array{river_pattern: string, trigger_level:
         string, warning: string} on left side of ?? always exists and is not
         nullable.
         ðŸªª  nullCoalesce.offset
         at app/Services/RiskCorrelationService.php:99
  100    Offset 'warning' on array{river_pattern: string, trigger_level:
         string, warning: string} on left side of ?? always exists and is not
         nullable.
         ðŸªª  nullCoalesce.offset
         at app/Services/RiskCorrelationService.php:100
  129    Offset 'flood_pattern' on array{river_pattern: string, trigger_level:
         string, warning: string} on left side of ?? does not exist.
         ðŸªª  nullCoalesce.offset
         at app/Services/RiskCorrelationService.php:129
  130    Strict comparison using === between '' and '' will always evaluate to
         true.
         ðŸªª  identical.alwaysTrue
         ðŸ’¡  Because the type is coming from a PHPDoc, you can turn off this
         check by setting treatPhpDocTypesAsCertain: false in your phpstan.neo
         n.
         at app/Services/RiskCorrelationService.php:130
  133    Unreachable statement - code above always terminates.
         ðŸªª  deadCode.unreachable
         at app/Services/RiskCorrelationService.php:133
  207    Method App\Services\RiskCorrelationService::roadHasIncident() has
         parameter $incidentRoads with no value type specified in iterable
         type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/RiskCorrelationService.php:207
 ------ -----------------------------------------------------------------------
 ------ -----------------------------------------------------------------------
  Line   Services/RouteCheckService.php
 ------ -----------------------------------------------------------------------
  40     Offset 'in_area' on array{valid: true, in_area: bool, getError?:
         string, lat?: float, lng?: float, region?: string, outcode?: string,
         display_name?: string} on left side of ?? always exists and is not
         nullable.
         ðŸªª  nullCoalesce.offset
         at app/Services/RouteCheckService.php:40
  48     Offset 'in_area' on array{valid: true, in_area: bool, getError?:
         string, lat?: float, lng?: float, region?: string, outcode?: string,
         display_name?: string} on left side of ?? always exists and is not
         nullable.
         ðŸªª  nullCoalesce.offset
         at app/Services/RouteCheckService.php:48
  85     Method App\Services\RouteCheckService::fetchOsrmRoute() return type
         has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/RouteCheckService.php:85
  474    Method App\Services\RouteCheckService::cachePut() has parameter
         $value with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/RouteCheckService.php:474
 ------ -----------------------------------------------------------------------
 ------ -----------------------------------------------------------------------
  Line   Services/Tooling/Handlers/GetCorrelationSummaryHandler.php
 ------ -----------------------------------------------------------------------
  28     Method
         App\Services\Tooling\Handlers\GetCorrelationSummaryHandler::definitio
         n() return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/Tooling/Handlers/GetCorrelationSummaryHandler.php:28
  68     Method
         App\Services\Tooling\Handlers\GetCorrelationSummaryHandler::presentFo
         rLlm() return type has no value type specified in iterable type
         array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/Tooling/Handlers/GetCorrelationSummaryHandler.php:68
 ------ -----------------------------------------------------------------------
 ------ -----------------------------------------------------------------------
  Line   Services/Tooling/Handlers/GetFloodDataHandler.php
 ------ -----------------------------------------------------------------------
  28     Method
         App\Services\Tooling\Handlers\GetFloodDataHandler::definition()
         return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/Tooling/Handlers/GetFloodDataHandler.php:28
  66     Call to function is_array() with array<int, array<string, mixed>> wil
         l always evaluate to true.
         ðŸªª  function.alreadyNarrowedType
         at app/Services/Tooling/Handlers/GetFloodDataHandler.php:66
  72     Method
         App\Services\Tooling\Handlers\GetFloodDataHandler::presentForLlm()
         never returns string so it can be removed from the return type.
         ðŸªª  return.unusedType
         at app/Services/Tooling/Handlers/GetFloodDataHandler.php:72
  72     Method
         App\Services\Tooling\Handlers\GetFloodDataHandler::presentForLlm()
         return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/Tooling/Handlers/GetFloodDataHandler.php:72
 ------ -----------------------------------------------------------------------
 ------ -----------------------------------------------------------------------
  Line   Services/Tooling/Handlers/GetFloodForecastHandler.php
 ------ -----------------------------------------------------------------------
  30     Method
         App\Services\Tooling\Handlers\GetFloodForecastHandler::definition()
         return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/Tooling/Handlers/GetFloodForecastHandler.php:30
  60     Method
         App\Services\Tooling\Handlers\GetFloodForecastHandler::presentForLlm(
         ) return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/Tooling/Handlers/GetFloodForecastHandler.php:60
 ------ -----------------------------------------------------------------------
 ------ -----------------------------------------------------------------------
  Line   Services/Tooling/Handlers/GetHighwaysIncidentsHandler.php
 ------ -----------------------------------------------------------------------
  27     Method
         App\Services\Tooling\Handlers\GetHighwaysIncidentsHandler::definition
         () return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/Tooling/Handlers/GetHighwaysIncidentsHandler.php:27
  52     Call to function is_array() with array<int, array<string, mixed>> wil
         l always evaluate to true.
         ðŸªª  function.alreadyNarrowedType
         at app/Services/Tooling/Handlers/GetHighwaysIncidentsHandler.php:52
  58     Method
         App\Services\Tooling\Handlers\GetHighwaysIncidentsHandler::presentFor
         Llm() never returns string so it can be removed from the return type.
         ðŸªª  return.unusedType
         at app/Services/Tooling/Handlers/GetHighwaysIncidentsHandler.php:58
  58     Method
         App\Services\Tooling\Handlers\GetHighwaysIncidentsHandler::presentFor
         Llm() return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/Tooling/Handlers/GetHighwaysIncidentsHandler.php:58
 ------ -----------------------------------------------------------------------
 ------ -----------------------------------------------------------------------
  Line   Services/Tooling/Handlers/GetRiverLevelsHandler.php
 ------ -----------------------------------------------------------------------
  32     Method
         App\Services\Tooling\Handlers\GetRiverLevelsHandler::definition()
         return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/Tooling/Handlers/GetRiverLevelsHandler.php:32
  61     Call to function is_array() with array<int, array{station: string, ri
         ver: string, town: string, value: float, unit: string, unitName:
         string, dateTime: string}> will always evaluate to true.
         ðŸªª  function.alreadyNarrowedType
         at app/Services/Tooling/Handlers/GetRiverLevelsHandler.php:61
  67     Method
         App\Services\Tooling\Handlers\GetRiverLevelsHandler::presentForLlm()
         never returns string so it can be removed from the return type.
         ðŸªª  return.unusedType
         at app/Services/Tooling/Handlers/GetRiverLevelsHandler.php:67
  67     Method
         App\Services\Tooling\Handlers\GetRiverLevelsHandler::presentForLlm()
         return type has no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Services/Tooling/Handlers/GetRiverLevelsHandler.php:67
 ------ -----------------------------------------------------------------------
 ------ -----------------------------------------------------------------------
  Line   Support/Tooling/ToolContext.php
 ------ -----------------------------------------------------------------------
  26     Method App\Support\Tooling\ToolContext::fromArray() has parameter
         $context with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Support/Tooling/ToolContext.php:26
  26     Method App\Support\Tooling\ToolContext::fromArray() has parameter
         $context with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Support/Tooling/ToolContext.php:26
  26     Method App\Support\Tooling\ToolContext::fromArray() has parameter
         $context with no value type specified in iterable type array.
         ðŸªª  missingType.iterableValue
         ðŸ’¡  See:
         https://phpstan.org/blog/solving-phpstan-no-value-type-specified-in-i
         terable-type
         at app/Support/Tooling/ToolContext.php:26
  32     Right side of && is always true.
         ðŸªª  booleanAnd.rightAlwaysTrue
         ðŸ’¡  Because the type is coming from a PHPDoc, you can turn off this
         check by setting treatPhpDocTypesAsCertain: false in your phpstan.neo
         n.
         at app/Support/Tooling/ToolContext.php:32
  33     Right side of && is always true.
         ðŸªª  booleanAnd.rightAlwaysTrue
         ðŸ’¡  Because the type is coming from a PHPDoc, you can turn off this
         check by setting treatPhpDocTypesAsCertain: false in your phpstan.neo
         n.
         at app/Support/Tooling/ToolContext.php:33
  34     Right side of && is always true.
         ðŸªª  booleanAnd.rightAlwaysTrue
         ðŸ’¡  Because the type is coming from a PHPDoc, you can turn off this
         check by setting treatPhpDocTypesAsCertain: false in your phpstan.neo
         n.
         at app/Support/Tooling/ToolContext.php:34
 ------ -----------------------------------------------------------------------

 [ERROR] Found 110 errors

